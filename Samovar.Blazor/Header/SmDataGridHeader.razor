@using System.Globalization
@typeparam TItem
@inherits SmDesignComponentBase

<table style="margin:0;padding:0;table-layout:fixed;@(LayoutService.MinGridWidth.Value > 0 ? "min-width:" + LayoutService.MinGridWidth.Value.ToString(CultureInfo.InvariantCulture) + "px;" : "")" class="@LayoutService.TableTagClass.Value">
    <thead class="@LayoutService.TheadTagClass.Value">
        <tr>
            @{
                @if (LayoutService.ShowDetailRow.Value)
                {
                    <th style="@(GridColumnService.DetailExpanderColumnModel.WidthStyle + "padding-right:0;")" id="@(GridColumnService.DetailExpanderColumnModel.HeaderCellId)"></th>
                }

                foreach (var colMeta in GridColumnService.AllColumnModels)
                {
                    switch (colMeta.ColumnType)
                    {
                        case ColumnType.Data:
                            <SmDataGridHeaderCell Model=@((IDataColumnModel)colMeta) />
                            break;
                        case ColumnType.Command:
                            <th style="@(colMeta.WidthStyle)" id="@(colMeta.HeaderCellId)">
                                @if (((ICommandColumnModel)colMeta).NewButtonVisible.Value)
                                {
                                    <div class="s-flex s-flex-row s-align-content-center s-justify-content-center">
                                        <button class="btn btn-primary btn-sm" @onclick="@RowInsering">new</button>
                                    </div>
                                }
                            </th>
                            break;
                    }
                }
                <SmDataGridHeaderEmptyCell Model=@GridColumnService.EmptyHeaderColumnModel />
            }
        </tr>
    </thead>
</table>
